_format_version: "3.0"
plugins:
- config:
    custom_fields_by_lua: {}
    path: /dev/stdout
    reopen: false
  enabled: true
  name: file-log
  protocols:
  - grpc
  - grpcs
  - http
  - https
services:
- connect_timeout: 60000
  enabled: true
  host: api.openweathermap.org
  name: weather-service
  path: /data/2.5/weather
  port: 443
  protocol: https
  read_timeout: 60000
  retries: 5
  routes:
  - https_redirect_status_code: 426
    name: weather-service-mpc
    path_handling: v0
    paths:
    - /weather/mpc
    plugins:
    - config:
        logging:
          log_payloads: true
          log_statistics: true
        max_request_body_size: 8192
        mode: conversion-listener
        server: null
        tools:
        - annotations: null
          description: Test Weather Tool
          headers: null
          host: null
          method: null
          parameters: null
          path: null
          query:
            appid:
            - 5d31e7f23efef46c2a2d9129f39c10fa
            units:
            - metric
          request_body: null
          scheme: null
      enabled: true
      name: ai-mcp-proxy
      protocols:
      - grpc
      - grpcs
      - http
      - https
    preserve_host: false
    protocols:
    - http
    - https
    regex_priority: 0
    request_buffering: true
    response_buffering: true
    strip_path: true
  write_timeout: 60000
